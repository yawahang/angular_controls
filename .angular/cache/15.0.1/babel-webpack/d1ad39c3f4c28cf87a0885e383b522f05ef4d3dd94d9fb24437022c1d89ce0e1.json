{"ast":null,"code":"import { gridColumns } from './oh-table-demo.column';\nimport { gridData } from './oh-table-demo.data';\nimport { TableActionFormDialog } from './table-action-form.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../shared/oh-table/oh-table/oh-table.component\";\nexport let OhTableDemoComponent = /*#__PURE__*/(() => {\n  class OhTableDemoComponent {\n    // Grid End\n    constructor(dialog) {\n      this.dialog = dialog;\n      // Grid Start\n      this.gridConfig = {\n        columns: [],\n        dataSource: {\n          data: [],\n          totalRows: 0\n        },\n        loading: true,\n        fileName: 'Employee_Export',\n        option: {\n          searchText: '',\n          filter: {\n            statusIdList: []\n          },\n          offset: 0,\n          pageSize: 10,\n          sortBy: 'name',\n          sortOrder: 'ASC'\n        },\n        rowActionOption: {\n          dblClickNavigationAction: 'Edit'\n        }\n      };\n      this.selectedRow = {};\n    }\n    ngOnInit() {\n      this.gridConfig.columns = gridColumns;\n      this.gridConfig.dataSource.data = gridData || [];\n      this.gridConfig.dataSource.totalRows = gridData.length || 0;\n      this.gridConfig.loading = false;\n      this.gridConfig = Object.assign({}, this.gridConfig); // refresh gridConfig\n    }\n    // Grid Start\n    onRowDblClick(row) {\n      this.selectedRow = Object.assign({}, row);\n      // edit form here\n    }\n\n    onRowClick(row) {\n      this.selectedRow = Object.assign({}, row);\n    }\n    onPageChange(event) {\n      if (event) {\n        this.gridConfig.option.offset = event.offset;\n        this.gridConfig.option.pageSize = event.pageSize;\n        // get grid data from server\n      }\n    }\n\n    onSortChange(event) {\n      if (event) {\n        this.gridConfig.option.sortBy = event.sortBy;\n        this.gridConfig.option.sortOrder = event.sortOrder;\n        // get grid data from server\n      }\n    }\n\n    onRowActionClick(event) {\n      if (event && event.action && event.row) {\n        this.selectedRow = Object.assign({}, event.row);\n        switch (event.action.NavigationAction) {\n          case 'Add':\n            this.openFormDialog(event.action.NavigationAction);\n          case 'Edit':\n            this.openFormDialog(event.action.NavigationAction);\n            break;\n        }\n      }\n    }\n    openFormDialog(action) {\n      const dialogRef = this.dialog.open(TableActionFormDialog, {\n        width: '250px',\n        data: {\n          action: action\n        }\n      });\n      dialogRef.afterClosed().subscribe(result => {});\n    }\n    // Grid End\n    ngOnDestroy() {}\n  }\n  OhTableDemoComponent.ɵfac = function OhTableDemoComponent_Factory(t) {\n    return new (t || OhTableDemoComponent)(i0.ɵɵdirectiveInject(i1.MatDialog));\n  };\n  OhTableDemoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OhTableDemoComponent,\n    selectors: [[\"oh-table-demo\"]],\n    decls: 5,\n    vars: 1,\n    consts: [[1, \"row\"], [3, \"config\", \"onRowActionClick\", \"onRowClick\", \"onRowDblClick\", \"onPageChange\", \"onSortChange\"]],\n    template: function OhTableDemoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Normal table with inline actions\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"hr\");\n        i0.ɵɵelementStart(4, \"oh-table\", 1);\n        i0.ɵɵlistener(\"onRowActionClick\", function OhTableDemoComponent_Template_oh_table_onRowActionClick_4_listener($event) {\n          return ctx.onRowActionClick($event);\n        })(\"onRowClick\", function OhTableDemoComponent_Template_oh_table_onRowClick_4_listener($event) {\n          return ctx.onRowClick($event);\n        })(\"onRowDblClick\", function OhTableDemoComponent_Template_oh_table_onRowDblClick_4_listener($event) {\n          return ctx.onRowDblClick($event);\n        })(\"onPageChange\", function OhTableDemoComponent_Template_oh_table_onPageChange_4_listener($event) {\n          return ctx.onPageChange($event);\n        })(\"onSortChange\", function OhTableDemoComponent_Template_oh_table_onSortChange_4_listener($event) {\n          return ctx.onSortChange($event);\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"config\", ctx.gridConfig);\n      }\n    },\n    dependencies: [i2.OhTableComponent]\n  });\n  return OhTableDemoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}